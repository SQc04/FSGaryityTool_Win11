<Page x:Class="FSGaryityTool_Win11.SettingsPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:animatedvisuals="using:Microsoft.UI.Xaml.Controls.AnimatedVisuals"
      xmlns:controls="using:Microsoft.UI.Xaml.Controls"
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
      xmlns:local="using:FSGaryityTool_Win11"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
      xmlns:toolkit="using:CommunityToolkit.WinUI.Controls"
      NavigationCacheMode="Enabled"
      mc:Ignorable="d">
    <!--  Background="{ThemeResource ApplicationPageBackgroundThemeBrush}"  -->
    <Page.Resources>
        <Style x:Key="ComboBoxStyle" TargetType="ComboBox">
            <Setter Property="Padding" Value="{ThemeResource ComboBoxPadding}" />
            <Setter Property="MaxDropDownHeight" Value="504" />
            <Setter Property="Foreground" Value="{ThemeResource ComboBoxForeground}" />
            <Setter Property="Background" Value="{ThemeResource ComboBoxBackground}" />
            <Setter Property="BorderBrush" Value="{ThemeResource ComboBoxBorderBrush}" />
            <Setter Property="BorderThickness" Value="{ThemeResource ComboBoxBorderThemeThickness}" />
            <Setter Property="TabNavigation" Value="Once" />
            <Setter Property="TextBoxStyle" Value="{StaticResource ComboBoxTextBoxStyle}" />
            <Setter Property="ScrollViewer.HorizontalScrollBarVisibility" Value="Disabled" />
            <Setter Property="ScrollViewer.VerticalScrollBarVisibility" Value="Auto" />
            <Setter Property="ScrollViewer.HorizontalScrollMode" Value="Disabled" />
            <Setter Property="ScrollViewer.VerticalScrollMode" Value="Auto" />
            <Setter Property="ScrollViewer.IsVerticalRailEnabled" Value="True" />
            <Setter Property="ScrollViewer.IsDeferredScrollingEnabled" Value="False" />
            <Setter Property="ScrollViewer.BringIntoViewOnFocusChange" Value="True" />
            <Setter Property="HorizontalContentAlignment" Value="Stretch" />
            <Setter Property="HorizontalAlignment" Value="Left" />
            <Setter Property="VerticalAlignment" Value="Top" />
            <Setter Property="FontFamily" Value="{ThemeResource ContentControlThemeFontFamily}" />
            <Setter Property="FontSize" Value="{ThemeResource ControlContentThemeFontSize}" />
            <Setter Property="UseSystemFocusVisuals" Value="{ThemeResource IsApplicationFocusVisualKindReveal}" />
            <Setter Property="CornerRadius" Value="{ThemeResource ControlCornerRadius}" />
            <Setter Property="ItemsPanel">
                <Setter.Value>
                    <ItemsPanelTemplate>
                        <CarouselPanel />
                    </ItemsPanelTemplate>
                </Setter.Value>
            </Setter>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ComboBox">
                        <Grid x:Name="LayoutRoot">
                            <Grid.Resources>
                                <Storyboard x:Key="OverlayOpeningAnimation">
                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="Opacity">
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0" Value="0.0" />
                                        <SplineDoubleKeyFrame KeySpline="{StaticResource ControlFastOutSlowInKeySpline}" KeyTime="{StaticResource ControlNormalAnimationDuration}" Value="1.0" />
                                    </DoubleAnimationUsingKeyFrames>
                                </Storyboard>
                                <Storyboard x:Key="OverlayClosingAnimation">
                                    <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="Opacity">
                                        <DiscreteDoubleKeyFrame KeyTime="0:0:0" Value="1.0" />
                                        <SplineDoubleKeyFrame KeySpline="{StaticResource ControlFastOutSlowInKeySpline}" KeyTime="{StaticResource ControlFastAnimationDuration}" Value="0.0" />
                                    </DoubleAnimationUsingKeyFrames>
                                </Storyboard>
                            </Grid.Resources>

                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="*" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>

                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="38" />
                            </Grid.ColumnDefinitions>
                            <ContentPresenter x:Name="HeaderContentPresenter"
                                              Grid.Row="0"
                                              Grid.Column="0"
                                              Grid.ColumnSpan="2"
                                              Margin="{ThemeResource ComboBoxTopHeaderMargin}"
                                              VerticalAlignment="Top"
                                              x:DeferLoadStrategy="Lazy"
                                              Content="{TemplateBinding Header}"
                                              ContentTemplate="{TemplateBinding HeaderTemplate}"
                                              FlowDirection="{TemplateBinding FlowDirection}"
                                              FontWeight="{ThemeResource ComboBoxHeaderThemeFontWeight}"
                                              Foreground="{ThemeResource ComboBoxHeaderForeground}"
                                              LineHeight="20"
                                              TextWrapping="Wrap"
                                              Visibility="Collapsed" />
                            <Border x:Name="HighlightBackground"
                                    Grid.Row="1"
                                    Grid.Column="0"
                                    Grid.ColumnSpan="2"
                                    Margin="-4"
                                    Background="{ThemeResource ComboBoxBackgroundFocused}"
                                    BorderBrush="{ThemeResource ComboBoxBackgroundBorderBrushFocused}"
                                    BorderThickness="{StaticResource ComboBoxBackgroundBorderThicknessFocused}"
                                    CornerRadius="{StaticResource ComboBoxHiglightBorderCornerRadius}"
                                    Opacity="0" />
                            <Border x:Name="Background"
                                    Grid.Row="1"
                                    Grid.Column="0"
                                    Grid.ColumnSpan="2"
                                    MinWidth="{ThemeResource ComboBoxThemeMinWidth}"
                                    Background="{TemplateBinding Background}"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="{TemplateBinding BorderThickness}"
                                    Control.IsTemplateFocusTarget="True"
                                    CornerRadius="{TemplateBinding CornerRadius}"
                                    Translation="0,0,1" />
                            <Rectangle x:Name="Pill"
                                       Grid.Row="1"
                                       Grid.Column="0"
                                       Margin="1,0,0,0"
                                       Opacity="0"
                                       Style="{StaticResource ComboBoxItemPill}">
                                <Rectangle.RenderTransform>
                                    <CompositeTransform x:Name="PillTransform" ScaleY="1" />
                                </Rectangle.RenderTransform>
                            </Rectangle>
                            <ContentPresenter x:Name="ContentPresenter"
                                              Grid.Row="1"
                                              Grid.Column="0"
                                              Margin="{TemplateBinding Padding}"
                                              HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                              VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                              Foreground="{TemplateBinding Foreground}">
                                <TextBlock x:Name="PlaceholderTextBlock" Foreground="{Binding PlaceholderForeground, RelativeSource={RelativeSource TemplatedParent}, TargetNullValue={ThemeResource ComboBoxPlaceHolderForeground}}" Text="{TemplateBinding PlaceholderText}" />
                            </ContentPresenter>
                            <TextBox x:Name="EditableText"
                                     Grid.Row="1"
                                     Grid.Column="0"
                                     Grid.ColumnSpan="2"
                                     Margin="0,0,0,0"
                                     Padding="{ThemeResource ComboBoxEditableTextPadding}"
                                     HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                     VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                     x:Load="False"
                                     AutomationProperties.Name="{TemplateBinding AutomationProperties.Name}"
                                     BorderBrush="Transparent"
                                     CornerRadius="{TemplateBinding CornerRadius}"
                                     Foreground="{Binding PlaceholderForeground, RelativeSource={RelativeSource TemplatedParent}, TargetNullValue={ThemeResource ComboBoxPlaceHolderForeground}}"
                                     Header="{TemplateBinding Header}"
                                     PlaceholderText="{TemplateBinding PlaceholderText}"
                                     Style="{TemplateBinding TextBoxStyle}"
                                     Text="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=Text, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                     Visibility="Collapsed" />
                            <Border x:Name="DropDownOverlay"
                                    Grid.Row="1"
                                    Grid.Column="1"
                                    Width="30"
                                    Margin="4,4,4,4"
                                    HorizontalAlignment="Right"
                                    x:Load="False"
                                    Background="Transparent"
                                    CornerRadius="{StaticResource ComboBoxDropDownButtonBackgroundCornerRadius}"
                                    Visibility="Collapsed" />
                            <controls:AnimatedIcon x:Name="DropDownGlyph"
                                                   Grid.Row="1"
                                                   Grid.Column="1"
                                                   Width="12"
                                                   Height="12"
                                                   MinHeight="{ThemeResource ComboBoxMinHeight}"
                                                   Margin="0,0,14,0"
                                                   HorizontalAlignment="Right"
                                                   VerticalAlignment="Center"
                                                   controls:AnimatedIcon.State="Normal"
                                                   AutomationProperties.AccessibilityView="Raw"
                                                   Foreground="{ThemeResource ComboBoxDropDownGlyphForeground}"
                                                   IsHitTestVisible="False">
                                <animatedvisuals:AnimatedChevronDownSmallVisualSource xmlns:animatedVisuals="using:Microsoft.UI.Xaml.Controls.AnimatedVisuals" />
                                <controls:AnimatedIcon.FallbackIconSource>
                                    <controls:FontIconSource FontFamily="{ThemeResource SymbolThemeFontFamily}" FontSize="12" Foreground="{ThemeResource ComboBoxDropDownGlyphForeground}" Glyph="&#xE70D;" />
                                </controls:AnimatedIcon.FallbackIconSource>
                            </controls:AnimatedIcon>
                            <ContentPresenter x:Name="DescriptionPresenter"
                                              Grid.Row="2"
                                              Grid.Column="0"
                                              Grid.ColumnSpan="2"
                                              x:Load="False"
                                              Content="{TemplateBinding Description}"
                                              Foreground="{ThemeResource SystemControlDescriptionTextForegroundBrush}" />
                            <Popup x:Name="Popup">
                                <Border x:Name="PopupBorder"
                                        Margin="0,-0.5,0,-1"
                                        Padding="{ThemeResource ComboBoxDropdownBorderPadding}"
                                        HorizontalAlignment="Stretch"
                                        Background="{ThemeResource ComboBoxDropDownBackground}"
                                        BackgroundSizing="InnerBorderEdge"
                                        BorderBrush="{ThemeResource ComboBoxDropDownBorderBrush}"
                                        BorderThickness="{ThemeResource ComboBoxDropdownBorderThickness}"
                                        CornerRadius="{ThemeResource OverlayCornerRadius}">
                                    <ScrollViewer x:Name="ScrollViewer"
                                                  MinWidth="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=TemplateSettings.DropDownContentMinWidth}"
                                                  AutomationProperties.AccessibilityView="Raw"
                                                  BringIntoViewOnFocusChange="{TemplateBinding ScrollViewer.BringIntoViewOnFocusChange}"
                                                  Foreground="{ThemeResource ComboBoxDropDownForeground}"
                                                  HorizontalScrollBarVisibility="{TemplateBinding ScrollViewer.HorizontalScrollBarVisibility}"
                                                  HorizontalScrollMode="{TemplateBinding ScrollViewer.HorizontalScrollMode}"
                                                  IsDeferredScrollingEnabled="{TemplateBinding ScrollViewer.IsDeferredScrollingEnabled}"
                                                  IsHorizontalRailEnabled="{TemplateBinding ScrollViewer.IsHorizontalRailEnabled}"
                                                  IsVerticalRailEnabled="{TemplateBinding ScrollViewer.IsVerticalRailEnabled}"
                                                  VerticalScrollBarVisibility="{TemplateBinding ScrollViewer.VerticalScrollBarVisibility}"
                                                  VerticalScrollMode="{TemplateBinding ScrollViewer.VerticalScrollMode}"
                                                  VerticalSnapPointsAlignment="Near"
                                                  VerticalSnapPointsType="OptionalSingle"
                                                  ZoomMode="Disabled">
                                        <ItemsPresenter Margin="{ThemeResource ComboBoxDropdownContentMargin}" />
                                    </ScrollViewer>
                                </Border>
                            </Popup>

                            <VisualStateManager.VisualStateGroups>
                                <VisualStateGroup x:Name="CommonStates">
                                    <VisualState x:Name="Normal" />

                                    <VisualState x:Name="PointerOver">

                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="Background" Storyboard.TargetProperty="Background">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ComboBoxBackgroundPointerOver}" />
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="Background" Storyboard.TargetProperty="BorderBrush">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ComboBoxBorderBrushPointerOver}" />
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter" Storyboard.TargetProperty="Foreground">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ComboBoxForegroundPointerOver}" />
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PlaceholderTextBlock" Storyboard.TargetProperty="Foreground">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{Binding PlaceholderForeground, RelativeSource={RelativeSource TemplatedParent}, TargetNullValue={ThemeResource ComboBoxPlaceHolderForegroundPointerOver}}" />
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                        <VisualState.Setters>
                                            <Setter Target="DropDownGlyph.(controls:AnimatedIcon.State)" Value="PointerOver" />

                                        </VisualState.Setters>
                                    </VisualState>

                                    <VisualState x:Name="Pressed">

                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="Background" Storyboard.TargetProperty="Background">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ComboBoxBackgroundPressed}" />
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="Background" Storyboard.TargetProperty="BorderBrush">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ComboBoxBorderBrushPressed}" />
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter" Storyboard.TargetProperty="Foreground">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ComboBoxForegroundPressed}" />
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PlaceholderTextBlock" Storyboard.TargetProperty="Foreground">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{Binding PlaceholderForeground, RelativeSource={RelativeSource TemplatedParent}, TargetNullValue={ThemeResource ComboBoxPlaceHolderForegroundPressed}}" />
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                        <VisualState.Setters>
                                            <Setter Target="DropDownGlyph.(controls:AnimatedIcon.State)" Value="Pressed" />

                                        </VisualState.Setters>
                                    </VisualState>

                                    <VisualState x:Name="Disabled">

                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="Background" Storyboard.TargetProperty="Background">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ComboBoxBackgroundDisabled}" />
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="Background" Storyboard.TargetProperty="BorderBrush">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ComboBoxBorderBrushDisabled}" />
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="HeaderContentPresenter" Storyboard.TargetProperty="Foreground">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ComboBoxHeaderForegroundDisabled}" />
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter" Storyboard.TargetProperty="Foreground">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ComboBoxForegroundDisabled}" />
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PlaceholderTextBlock" Storyboard.TargetProperty="Foreground">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{Binding PlaceholderForeground, RelativeSource={RelativeSource TemplatedParent}, TargetNullValue={ThemeResource ComboBoxPlaceHolderForegroundDisabled}}" />
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="DropDownGlyph" Storyboard.TargetProperty="Foreground">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ComboBoxDropDownGlyphForegroundDisabled}" />
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>

                                </VisualStateGroup>
                                <VisualStateGroup x:Name="FocusStates">
                                    <VisualState x:Name="Focused">

                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="HighlightBackground" Storyboard.TargetProperty="Opacity" To="1" Duration="0" />
                                            <DoubleAnimation Storyboard.TargetName="Pill" Storyboard.TargetProperty="Opacity" To="1" Duration="0" />
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter" Storyboard.TargetProperty="Foreground">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ComboBoxForegroundFocused}" />
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PlaceholderTextBlock" Storyboard.TargetProperty="Foreground">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{Binding PlaceholderForeground, RelativeSource={RelativeSource TemplatedParent}, TargetNullValue={ThemeResource ComboBoxPlaceHolderForegroundFocused}}" />
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="DropDownGlyph" Storyboard.TargetProperty="Foreground">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ComboBoxDropDownGlyphForegroundFocused}" />
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                    <VisualState x:Name="FocusedPressed">

                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="HighlightBackground" Storyboard.TargetProperty="Opacity" To="1" Duration="0" />
                                            <DoubleAnimation Storyboard.TargetName="Pill" Storyboard.TargetProperty="Opacity" To="1" Duration="0" />
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter" Storyboard.TargetProperty="Foreground">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ComboBoxForegroundFocusedPressed}" />
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PlaceholderTextBlock" Storyboard.TargetProperty="Foreground">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{Binding PlaceholderForeground, RelativeSource={RelativeSource TemplatedParent}, TargetNullValue={ThemeResource ComboBoxPlaceHolderForegroundFocusedPressed}}" />
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="DropDownGlyph" Storyboard.TargetProperty="Foreground">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource ComboBoxDropDownGlyphForegroundFocusedPressed}" />
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                    <VisualState x:Name="Unfocused" />
                                    <VisualState x:Name="PointerFocused" />
                                    <VisualState x:Name="FocusedDropDown">

                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PopupBorder" Storyboard.TargetProperty="Visibility" Duration="0">
                                                <DiscreteObjectKeyFrame KeyTime="0">
                                                    <DiscreteObjectKeyFrame.Value>
                                                        <Visibility>Visible</Visibility>
                                                    </DiscreteObjectKeyFrame.Value>
                                                </DiscreteObjectKeyFrame>
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>

                                </VisualStateGroup>
                                <VisualStateGroup x:Name="DropDownStates">
                                    <VisualState x:Name="Opened">

                                        <Storyboard>
                                            <SplitOpenThemeAnimation ClosedTargetName="ContentPresenter" OffsetFromCenter="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=TemplateSettings.DropDownOffset}" OpenedLength="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=TemplateSettings.DropDownOpenedHeight}" OpenedTargetName="PopupBorder" />
                                        </Storyboard>
                                    </VisualState>
                                    <VisualState x:Name="Closed">

                                        <Storyboard>
                                            <SplitCloseThemeAnimation ClosedTargetName="ContentPresenter" OffsetFromCenter="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=TemplateSettings.DropDownOffset}" OpenedLength="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=TemplateSettings.DropDownOpenedHeight}" OpenedTargetName="PopupBorder" />
                                        </Storyboard>
                                    </VisualState>

                                </VisualStateGroup>

                                <VisualStateGroup x:Name="EditableModeStates">
                                    <VisualState x:Name="TextBoxFocused">
                                        <VisualState.Setters>
                                            <Setter Target="DropDownGlyph.Foreground" Value="{ThemeResource ComboBoxEditableDropDownGlyphForeground}" />

                                        </VisualState.Setters>
                                    </VisualState>
                                    <VisualState x:Name="TextBoxFocusedOverlayPointerOver">
                                        <VisualState.Setters>
                                            <Setter Target="DropDownGlyph.Foreground" Value="{ThemeResource ComboBoxEditableDropDownGlyphForeground}" />
                                            <Setter Target="DropDownOverlay.Background" Value="{ThemeResource ComboBoxDropDownBackgroundPointerOver}" />

                                        </VisualState.Setters>
                                    </VisualState>
                                    <VisualState x:Name="TextBoxFocusedOverlayPressed">
                                        <VisualState.Setters>
                                            <Setter Target="DropDownGlyph.Foreground" Value="{ThemeResource ComboBoxEditableDropDownGlyphForeground}" />
                                            <Setter Target="DropDownOverlay.Background" Value="{ThemeResource ComboBoxFocusedDropDownBackgroundPointerPressed}" />

                                        </VisualState.Setters>
                                    </VisualState>
                                    <VisualState x:Name="TextBoxOverlayPointerOver">
                                        <VisualState.Setters>
                                            <Setter Target="DropDownOverlay.Background" Value="{ThemeResource ComboBoxDropDownBackgroundPointerOver}" />

                                        </VisualState.Setters>
                                    </VisualState>
                                    <VisualState x:Name="TextBoxOverlayPressed">
                                        <VisualState.Setters>
                                            <Setter Target="DropDownOverlay.Background" Value="{ThemeResource ComboBoxDropDownBackgroundPointerPressed}" />

                                        </VisualState.Setters>
                                    </VisualState>
                                    <VisualState x:Name="TextBoxUnfocused" />

                                </VisualStateGroup>

                            </VisualStateManager.VisualStateGroups>
                        </Grid>

                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Page.Resources>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="0" />
            <!--  36  -->
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="60" />
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="60" />
        </Grid.ColumnDefinitions>
        <!--<TextBlock Grid.Row="0" Grid.Column="1" FontSize="40" Height="60" Margin="0,0,0,0">Settings</TextBlock>-->

        <Frame x:Name="AboutFrame"
               Grid.Row="1"
               Grid.RowSpan="1"
               Grid.Column="0"
               Grid.ColumnSpan="3"
               x:FieldModifier="Public"
               Canvas.ZIndex="1"
               Opacity="0">
            <!--"<Frame.Resources>
                <Storyboard x:Name="AboutINOUT">
                    <DoubleAnimation Storyboard.TargetName="AboutFrame"
                       Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)"
                       From="2000" To="0" Duration="0:0:0.4">
                        <DoubleAnimation.EasingFunction>
                            <CircleEase EasingMode="EaseInOut" />
                        </DoubleAnimation.EasingFunction>
                    </DoubleAnimation>
                </Storyboard>
            </Frame.Resources>
            <Frame.RenderTransform>
                <TranslateTransform />
            </Frame.RenderTransform>-->

            <Frame.ContentTransitions>
                <TransitionCollection>
                    <NavigationThemeTransition />
                </TransitionCollection>
            </Frame.ContentTransitions>

        </Frame>

        <ScrollViewer Grid.Row="1" Grid.Column="1" Grid.ColumnSpan="2">
            <StackPanel Margin="0,0,60,0" HorizontalAlignment="Stretch">
                <TextBlock Margin="0,12,0,0" Text="" />
                <Border Width="340"
                        Height="190"
                        Margin="0,0,0,6"
                        Padding="8"
                        HorizontalAlignment="Left"
                        Background="Black"
                        CornerRadius="{ThemeResource OverlayCornerRadius}">
                    <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" CornerRadius="{ThemeResource ControlCornerRadius}">
                        <Grid>
                            <Image x:Name="DesktopBackgroundImage"
                                   Margin="0,0,0,0"
                                   HorizontalAlignment="Center"
                                   VerticalAlignment="Center"
                                   Opacity="1"
                                   Stretch="UniformToFill" />

                            <Border Width="200"
                                    Height="120"
                                    Margin="0,0,9,24"
                                    HorizontalAlignment="Right"
                                    VerticalAlignment="Bottom"
                                    Background="Transparent"
                                    CornerRadius="{ThemeResource ControlCornerRadius}">
                                <Grid>
                                    <Border Background="{ThemeResource AcrylicInAppFillColorDefaultBrush}" />
                                    <Image Margin="0,0,0,0"
                                           HorizontalAlignment="Center"
                                           VerticalAlignment="Center"
                                           Opacity="0.0"
                                           Source="ms-appx:///Assets/BackgroundTest/TestAlpha.jpg"
                                           Stretch="UniformToFill" />

                                    <Border Margin="9,9,0,0" HorizontalAlignment="Stretch" Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" CornerRadius="2,0,0,0">
                                        <Grid>
                                            <Border Width="30"
                                                    Height="1"
                                                    Margin="0,9,6,0"
                                                    HorizontalAlignment="Right"
                                                    VerticalAlignment="Top"
                                                    Background="{ThemeResource TextFillColorPrimaryBrush}"
                                                    CornerRadius="2" />
                                            <Border Width="30"
                                                    Height="1"
                                                    Margin="0,18,6,0"
                                                    HorizontalAlignment="Right"
                                                    VerticalAlignment="Top"
                                                    Background="{ThemeResource TextFillColorPrimaryBrush}"
                                                    CornerRadius="2" />
                                            <Border Width="30"
                                                    Height="1"
                                                    Margin="0,27,6,0"
                                                    HorizontalAlignment="Right"
                                                    VerticalAlignment="Top"
                                                    Background="{ThemeResource TextFillColorPrimaryBrush}"
                                                    CornerRadius="2" />
                                            <Border Width="20"
                                                    Height="1"
                                                    Margin="0,36,17,0"
                                                    HorizontalAlignment="Right"
                                                    VerticalAlignment="Top"
                                                    Background="{ThemeResource TextFillColorPrimaryBrush}"
                                                    CornerRadius="2" />

                                            <Border Margin="30,5,40,18" Background="{ThemeResource CardStrokeColorDefaultBrush}" BorderBrush="{ThemeResource TextControlElevationBorderFocusedBrush}" BorderThickness="1" CornerRadius="2" />

                                            <Border Width="25"
                                                    Height="1"
                                                    Margin="3,9,0,0"
                                                    HorizontalAlignment="Left"
                                                    VerticalAlignment="Top"
                                                    Background="{ThemeResource TextFillColorPrimaryBrush}"
                                                    CornerRadius="2" />
                                            <Border Width="25"
                                                    Height="1"
                                                    Margin="3,18,0,0"
                                                    HorizontalAlignment="Left"
                                                    VerticalAlignment="Top"
                                                    Background="{ThemeResource TextFillColorPrimaryBrush}"
                                                    CornerRadius="2" />
                                            <Border Width="25"
                                                    Height="1"
                                                    Margin="3,27,0,0"
                                                    HorizontalAlignment="Left"
                                                    VerticalAlignment="Top"
                                                    Background="{ThemeResource TextFillColorPrimaryBrush}"
                                                    CornerRadius="2" />
                                            <Border Width="15"
                                                    Height="1"
                                                    Margin="3,36,0,0"
                                                    HorizontalAlignment="Left"
                                                    VerticalAlignment="Top"
                                                    Background="{ThemeResource TextFillColorPrimaryBrush}"
                                                    CornerRadius="2" />
                                        </Grid>
                                    </Border>
                                    <Border Width="24"
                                            Height="8"
                                            Margin="0,0,12,5"
                                            HorizontalAlignment="Right"
                                            VerticalAlignment="Bottom"
                                            Background="{ThemeResource AccentTextFillColorTertiaryBrush}"
                                            CornerRadius="2" />
                                </Grid>
                            </Border>
                        </Grid>
                    </Border>
                </Border>
                <TextBlock x:Name="Generiall" Margin="0" Text="General" />
                <StackPanel>
                    <!--    -->
                    <toolkit:SettingsCard x:Name="StartPage" Margin="0,3,0,3" Description="Specifies the page that is displayed when FSGravityTool is launched." Header="Default start page">
                        <toolkit:SettingsCard.HeaderIcon>
                            <FontIcon FontSize="12" Glyph="&#xE8A1;" />
                        </toolkit:SettingsCard.HeaderIcon>
                        <Grid>
                            <StackPanel HorizontalAlignment="Right" Orientation="Horizontal">
                                <ComboBox x:Name="StartPageCombobox" Width="150" Margin="0,0,27,0" SelectionChanged="StartPageCombobox_SelectionChanged" />
                            </StackPanel>
                        </Grid>
                    </toolkit:SettingsCard>

                    <toolkit:SettingsCard Margin="0,3,0,3" Visibility="Collapsed">
                        <toolkit:SettingsCard.HeaderIcon>
                            <FontIcon FontSize="12" Glyph="&#xE8A1;" />
                        </toolkit:SettingsCard.HeaderIcon>
                        <Grid />
                    </toolkit:SettingsCard>

                    <toolkit:SettingsExpander x:Name="SoftToolBackground" Margin="0,3,0,3" Description="Set the background of FSGravityTool." Header="Personalize the background" IsExpanded="True">
                        <toolkit:SettingsExpander.HeaderIcon>
                            <FontIcon FontSize="12" Glyph="&#xEF1F;" />
                        </toolkit:SettingsExpander.HeaderIcon>
                        <Grid>
                            <StackPanel HorizontalAlignment="Right" Orientation="Horizontal">
                                <ComboBox x:Name="SoftBackgroundCombobox" Width="150" Margin="0,0,0,0" SelectionChanged="SoftBackgroundCombobox_SelectionChanged" />
                            </StackPanel>
                        </Grid>
                        <toolkit:SettingsExpander.Items>
                            <toolkit:SettingsCard Description="Keep the application transparent when it is not in focus." Header="Keep transparent">
                                <Grid>
                                    <controls:ToggleSwitch x:Name="SoftBackgroundToggleSwitch" IsOn="{x:Bind WindowBackgroundBrushActivatedEnable, Mode=TwoWay}" />
                                </Grid>
                            </toolkit:SettingsCard>
                        </toolkit:SettingsExpander.Items>
                    </toolkit:SettingsExpander>

                    <toolkit:SettingsExpander x:Name="SoftBackground" Margin="0,3,0,3" Description="" Header="">
                        <toolkit:SettingsExpander.HeaderIcon>
                            <FontIcon FontSize="12" Glyph="&#xE790;" />
                        </toolkit:SettingsExpander.HeaderIcon>
                        <ComboBox x:Name="SoftBackgroundColorComboBox" Width="150" Margin="0,0,0,0" />
                        <toolkit:SettingsExpander.Items>
                            <toolkit:SettingsCard>
                                <Grid>
                                    <toolkit:ColorPickerButton />

                                </Grid>
                            </toolkit:SettingsCard>
                            <toolkit:SettingsCard>
                                <Grid />
                            </toolkit:SettingsCard>
                        </toolkit:SettingsExpander.Items>
                    </toolkit:SettingsExpander>

                    <toolkit:SettingsCard x:Name="SoftLanguage" Margin="0,3,0,3" Description="Set the background of FSGravityTool." Header="Language">
                        <toolkit:SettingsCard.HeaderIcon>
                            <FontIcon FontSize="12" Glyph="&#xF2B7;" />
                        </toolkit:SettingsCard.HeaderIcon>
                        <Grid>
                            <StackPanel HorizontalAlignment="Right" Orientation="Horizontal">
                                <ComboBox x:Name="SoftLanguageCombobox" Width="150" Margin="0,0,27,0" SelectionChanged="SoftLanguageCombobox_SelectionChanged" />
                            </StackPanel>
                        </Grid>
                    </toolkit:SettingsCard>

                    <toolkit:SettingsCard x:Name="OpenToml"
                                          Margin="0,3,0,3"
                                          Click="OpenToml_click"
                                          Description="Open the settings file."
                                          Header="Open TOML file"
                                          IsClickEnabled="True">
                        <toolkit:SettingsCard.HeaderIcon>
                            <FontIcon FontSize="12" Glyph="&#xE835;" />
                        </toolkit:SettingsCard.HeaderIcon>

                        <toolkit:SettingsCard.ActionIcon>
                            <FontIcon FontSize="12" Glyph="&#xE8A7;" />
                        </toolkit:SettingsCard.ActionIcon>
                        <Grid>
                            <StackPanel HorizontalAlignment="Right" Orientation="Horizontal" />
                        </Grid>
                    </toolkit:SettingsCard>

                    <StackPanel.ChildrenTransitions>
                        <TransitionCollection>
                            <EntranceThemeTransition />
                            <RepositionThemeTransition IsStaggeringEnabled="False" />
                        </TransitionCollection>
                    </StackPanel.ChildrenTransitions>
                </StackPanel>
                <!--    -->
                <StackPanel>
                    <TextBlock Margin="0,12,0,0" Text="" />
                    <TextBlock x:Name="SpSwttingsl" Margin="0" Text="Serial Port Settings" />
                    <StackPanel>
                        <toolkit:SettingsExpander x:Name="SptSettingsl" Margin="0,2,0,3" Header="Serial Port Settings">
                            <toolkit:SettingsExpander.HeaderIcon>
                                <FontIcon FontSize="12" Glyph="&#xE8CB;" />
                            </toolkit:SettingsExpander.HeaderIcon>
                            <toolkit:SettingsExpander.Items>
                                <toolkit:SettingsCard>
                                    <Grid>
                                        <StackPanel HorizontalAlignment="Right" Orientation="Horizontal">
                                            <ComboBox Width="150" Margin="0,12,0,10" />
                                        </StackPanel>
                                    </Grid>
                                </toolkit:SettingsCard>
                                <toolkit:SettingsCard>
                                    <Grid>
                                        <StackPanel VerticalAlignment="Top" Orientation="Vertical">
                                            <StackPanel HorizontalAlignment="Right" Orientation="Horizontal">
                                                <ComboBox Width="150" Margin="0,12,0,10" />
                                            </StackPanel>
                                            <StackPanel HorizontalAlignment="Right" Orientation="Horizontal">
                                                <ComboBox Width="150" Margin="0,12,0,10" />
                                            </StackPanel>
                                        </StackPanel>
                                    </Grid>
                                </toolkit:SettingsCard>
                            </toolkit:SettingsExpander.Items>
                        </toolkit:SettingsExpander>
                    </StackPanel>

                    <Button x:Name="SpSettings"
                            Height="0"
                            Margin="0"
                            HorizontalAlignment="Stretch"
                            HorizontalContentAlignment="Stretch"
                            Click="SPSettings_Click">
                        <!--  66 "1,3,1,3"  -->
                        <Grid>
                            <StackPanel HorizontalAlignment="Left" Orientation="Horizontal">
                                <FontIcon Margin="6,0,12,0" HorizontalAlignment="Left" VerticalAlignment="Center" Glyph="&#xE8CB;" />
                                <TextBlock Margin="12,0,12,0" VerticalAlignment="Center" Text="Serial Port Settings" />

                            </StackPanel>
                            <StackPanel HorizontalAlignment="Right" Orientation="Horizontal">

                                <FontIcon Margin="12,0,6,0" HorizontalAlignment="Right" VerticalAlignment="Center" FontSize="10" Glyph="&#xE974;" />
                            </StackPanel>
                        </Grid>
                    </Button>

                    <!--
                <Button x:Name="Aboutq" Click="Aboutq_Click" HorizontalContentAlignment="Stretch" HorizontalAlignment="Stretch" Height="70" Margin="1,3,1,3">
                    <Grid>
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Left">
                            <FontIcon Glyph="&#xF210;" FontFamily="Segoe MDL2 Assets" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="6,0,12,0"/>
                            <TextBlock VerticalAlignment="Center" Text="About" Margin="12,0,12,0"/>

                        </StackPanel>
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="12,0,9,0">
                            <FontIcon x:Name="Fro1" Glyph="&#xE971;" FontFamily="Segoe MDL2 Assets" FontSize="12"  >
                                <FontIcon.RotationTransition>
                                    <ScalarTransition/>
                                </FontIcon.RotationTransition>
                                <FontIcon.TranslationTransition>
                                    <Vector3Transition />
                                </FontIcon.TranslationTransition>
                            </FontIcon>
                        </StackPanel>
                    </Grid>
                </Button>
                    -->
                    <StackPanel.ChildrenTransitions>
                        <TransitionCollection>
                            <EntranceThemeTransition FromVerticalOffset="100" IsStaggeringEnabled="False" />
                            <RepositionThemeTransition IsStaggeringEnabled="False" />
                        </TransitionCollection>
                    </StackPanel.ChildrenTransitions>
                </StackPanel>
                <!--    -->
                <StackPanel>
                    <TextBlock Margin="0,12,0,0" Text="" />
                    <TextBlock x:Name="DowFlashl" Margin="0" Text="Download Flash Settings" />
                    <StackPanel>
                        <toolkit:SettingsExpander x:Name="DfSettingsl" Margin="0,2,0,3" Header="Download Flash Settings" IsExpanded="False">
                            <toolkit:SettingsExpander.HeaderIcon>
                                <FontIcon FontSize="12" Glyph="&#xec59;" />
                            </toolkit:SettingsExpander.HeaderIcon>
                            <toolkit:SettingsExpander.Items>
                                <toolkit:SettingsCard>
                                    <Grid>
                                        <StackPanel HorizontalAlignment="Right" Orientation="Horizontal">
                                            <ComboBox Width="150" Margin="0,12,0,10" />
                                        </StackPanel>
                                    </Grid>
                                </toolkit:SettingsCard>
                                <toolkit:SettingsCard>
                                    <Grid>
                                        <StackPanel VerticalAlignment="Top" Orientation="Vertical">
                                            <StackPanel HorizontalAlignment="Right" Orientation="Horizontal">
                                                <ComboBox Width="150" Margin="0,12,0,10" />
                                            </StackPanel>
                                            <StackPanel HorizontalAlignment="Right" Orientation="Horizontal">
                                                <ComboBox Width="150" Margin="0,12,0,10" />
                                            </StackPanel>
                                        </StackPanel>
                                    </Grid>
                                </toolkit:SettingsCard>
                            </toolkit:SettingsExpander.Items>
                        </toolkit:SettingsExpander>
                    </StackPanel>

                    <StackPanel.ChildrenTransitions>
                        <TransitionCollection>
                            <EntranceThemeTransition FromVerticalOffset="100" IsStaggeringEnabled="True" />
                            <RepositionThemeTransition IsStaggeringEnabled="False" />
                        </TransitionCollection>
                    </StackPanel.ChildrenTransitions>
                </StackPanel>
                <!--    -->
                <StackPanel>
                    <StackPanel>
                        <toolkit:SettingsCard Margin="0,3,0,3" HorizontalAlignment="Stretch" HorizontalContentAlignment="Stretch" Header="Test 0" Visibility="Collapsed">
                            <toolkit:SettingsCard.HeaderIcon>
                                <FontIcon Glyph="&#xF210;" />
                            </toolkit:SettingsCard.HeaderIcon>

                            <Grid>
                                <StackPanel HorizontalAlignment="Right" Orientation="Horizontal">
                                    <Button Width="150" Margin="0,0,27,0" Content="Test 0" />
                                </StackPanel>
                            </Grid>
                        </toolkit:SettingsCard>
                    </StackPanel>

                    <StackPanel>
                        <toolkit:SettingsCard Margin="0,3,0,3" HorizontalAlignment="Stretch" HorizontalContentAlignment="Stretch" Header="Test 1" Visibility="Collapsed">
                            <toolkit:SettingsCard.HeaderIcon>
                                <FontIcon Glyph="&#xE8E5;" />
                            </toolkit:SettingsCard.HeaderIcon>

                            <Grid>
                                <StackPanel HorizontalAlignment="Right" Orientation="Horizontal">
                                    <Button Width="150" Margin="0,0,27,0" Content="Test 1" />
                                </StackPanel>
                            </Grid>
                        </toolkit:SettingsCard>
                    </StackPanel>

                    <Border Height="66" Margin="1,3,1,3" Background="{ThemeResource LayerOnMicaBaseAltFillColorSecondaryBrush}" CornerRadius="4" Visibility="Collapsed" />
                </StackPanel>
                <!--    -->
                <StackPanel>
                    <TextBlock Margin="0,12,0,0" Text="" />
                    <TextBlock x:Name="Aboutl" Margin="0" Text="About" />
                    <Button x:Name="Aboutp"
                            Height="66"
                            Margin="1,3,1,3"
                            HorizontalAlignment="Stretch"
                            HorizontalContentAlignment="Stretch"
                            Click="Aboutp_Click">
                        <Grid>
                            <StackPanel HorizontalAlignment="Left" Orientation="Horizontal">
                                <FontIcon Margin="6,0,12,0" HorizontalAlignment="Left" VerticalAlignment="Center" Glyph="&#xE946;" />
                                <TextBlock x:Name="AbputTl" Margin="12,0,12,0" VerticalAlignment="Center" Text="About" />

                            </StackPanel>
                            <StackPanel HorizontalAlignment="Right" Orientation="Horizontal">

                                <FontIcon Margin="12,0,6,0" HorizontalAlignment="Right" VerticalAlignment="Center" FontSize="15" Glyph="&#xE974;" />
                            </StackPanel>
                        </Grid>
                    </Button>
                    <StackPanel.ChildrenTransitions>
                        <TransitionCollection>
                            <EntranceThemeTransition FromVerticalOffset="100" IsStaggeringEnabled="False" />
                            <RepositionThemeTransition IsStaggeringEnabled="False" />
                        </TransitionCollection>
                    </StackPanel.ChildrenTransitions>
                </StackPanel>
                <!--    -->
                <StackPanel>
                    <TextBlock Margin="0,12,0,0" Text="" />

                    <StackPanel.ChildrenTransitions>
                        <TransitionCollection>
                            <EntranceThemeTransition FromVerticalOffset="100" IsStaggeringEnabled="False" />
                            <RepositionThemeTransition IsStaggeringEnabled="False" />
                        </TransitionCollection>
                    </StackPanel.ChildrenTransitions>
                </StackPanel>
                <StackPanel.ChildrenTransitions>
                    <TransitionCollection>
                        <EntranceThemeTransition FromVerticalOffset="100" IsStaggeringEnabled="False" />
                        <RepositionThemeTransition IsStaggeringEnabled="False" />
                    </TransitionCollection>
                </StackPanel.ChildrenTransitions>
            </StackPanel>
        </ScrollViewer>
    </Grid>

</Page>
